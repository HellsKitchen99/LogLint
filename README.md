# LogLint

LogLint — кастомный статический анализатор для Go,
который проверяет корректность сообщений в логах.

Проект разработан в рамках стажировки (Selectel).

## Что проверяет линтер

Линтер анализирует вызовы логирующих функций (`log`, `slog`, `zap`) и проверяет сообщения по 4 правилам:

1. Сообщения должны начинаться с маленькой буквы  
2. Сообщения должны быть на английском языке  
3. Сообщения не должны содержать спецсимволов и эмодзи  
4. Сообщения не должны содержать чувствительные данные  

## Поддерживаемые библиотеки

- `log`
- `slog`
- `zap`

Поддерживаемые методы:

- Info
- Error
- Warn
- Debug
- Print
- Printf
- Println

## Установка

Все команды вы можете найти в Makefile, проверяются все файлы, лежащие в example

Шаг 1. Сборка плагина

```bash
    make build-plugin
```

Шаг 2. Запуск линтера
```bash
    make run-linter
```
Команда внутри:
```bash
    go vet -vettool=./loglint ./example
```
Вы можете укзаать любую директорию или файл вместо example


## Другие команды

1. Просмотр информации по проекту:
```bash
    make info
```

2. Запуск всех тестов 4 правил с выведением покрытия:
```bash
    make run-test
```

3. Просмотр покрытия тестов в HTML:
```bash
    make coverage
```

4. Просмотр версии Go
```bash
    make go-version
```

5. Просмотр версии golangci-lint
```bash
    make golangci-lint-version
```


## Структура проекта
cmd/loglint      — entrypoint анализатора
analyzer.go      — реализация правил
analyzer_test.go — unit-тесты
example/         — примеры валидных и невалидных кейсов
Makefile         — команды для сборки и тестирования


## Технологии
 - go/analysis
 - go/ast
 - go/token
 - singlechecker
 - go vet
